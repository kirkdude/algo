# Test swanctl configuration for quantum-safe strongSwan
# Generated by Algo VPN quantum-safe role

connections {
    test-pq-connection {
        version = 2
        mobike = no
        reauth_time = 0
        proposals = aes256gcm16-prfsha512-ecp384-ke1_mlkem768!

        local {
            auth = psk
            id = server.algo.local
        }

        remote {
            auth = psk
            id = client.algo.local
        }

        children {
            test-pq-child {
                esp_proposals = aes256gcm16-sha256!
                local_ts = 0.0.0.0/0
                remote_ts = 0.0.0.0/0
                dpd_action = restart
                start_action = trap
            }
        }
    }

    test-fallback-connection {
        version = 2
        mobike = no
        reauth_time = 0
        proposals = aes256gcm16-prfsha512-ecp384!

        local {
            auth = psk
            id = server.algo.local
        }

        remote {
            auth = psk
            id = client.algo.local
        }

        children {
            test-fallback-child {
                esp_proposals = aes256gcm16-sha256!
                local_ts = 0.0.0.0/0
                remote_ts = 0.0.0.0/0
                dpd_action = restart
                start_action = trap
            }
        }
    }
}

secrets {
    ike-test {
        id = server.algo.local
        secret = "test-preshared-key-quantum-safe"
    }
}

pools {
    test-pool {
        addrs = 10.48.1.0/24
    }
}
